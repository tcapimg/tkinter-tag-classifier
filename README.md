# **tkinter-tag-classifier**

tkinter-tag-classifier は、画像生成AIなどで使用するタグ（プロンプト）を効率的に管理、分類、生成するためのデスクトップアプリケーションです。PythonのTkinterで開発されており、直感的なGUIでタグ辞書を構築・活用できます。**このアプリケーションは、Google Geminiによって作成されました。**

## **🚀 主な機能**

* **タグ辞書管理:** 英語タグと日本語説明をセットで管理し、カテゴリに分類できます。  
* **カテゴリ階層管理:** 自由にカテゴリを作成し、親子関係を設定して階層的に整理できます。  
* **未分類タグの自動分類ヒント:** 新しいタグを読み込んだ際、既存の辞書に基づいて自動分類のヒントを提案します。  
* **タグセット生成:** 辞書からタグを選択し、任意の区切り文字で結合してプロンプトを生成できます。  
* **ランダムタグセット生成:** 各最終カテゴリ（子カテゴリを持たないカテゴリ）からランダムにタグを選び、多様なプロンプトセットを自動生成します。  
* **辞書データのインポート/エクスポート:** JSON形式で辞書データを、CSV/TXT形式でタグリストを簡単に入出力できます。

## **💡 導入方法**

このアプリケーションはPythonで動作します。以下の手順でセットアップしてください。

### **1\. Gitのインストール**

まだGitがインストールされていない場合は、以下の公式サイトからダウンロードしてインストールしてください。  
Git公式サイト

### **2\. Pythonのインストール**

Python 3.8以上が必要です。以下の公式サイトからダウンロードしてインストールしてください。インストール時に「Add Python to PATH」のチェックボックスを必ずオンにしてください。  
Python公式サイト

### **3\. リポジトリのクローン**

ターミナル（コマンドプロンプト、PowerShell、Git Bashなど）を開き、アプリケーションを保存したいディレクトリに移動して、以下のコマンドを実行します。

git clone https://github.com/tcapimg/tkinter-tag-classifier.git

### **4\. 必要なライブラリのインストール**

クローンしたリポジリのディレクトリに移動し、必要なPythonライブラリをインストールします。

cd tkinter-tag-classifier  
pip install \-r requirements.txt

**requirements.txt の内容:**

pandas  
openpyxl

もし requirements.txt がない場合は、以下のコマンドで手動でインストールしてください。

pip install pandas openpyxl

### **5\. アプリケーションの実行**

#### **方法1: run\_app.bat を使用する（Windows推奨）**

Windows環境では、リポジトリのルートディレクトリにある run\_app.bat をダブルクリックするだけでアプリケーションを起動できます。

#### **方法2: Pythonスクリプトを直接実行する**

ターミナルでリポジリのディレクトリに移動し、以下のコマンドを実行します。

python tag\_classification\_app\_tkinter.py

## **🖥️ アプリケーションの使い方**

アプリケーションは複数のタブで構成されており、それぞれ異なる機能を提供します。

### **📁 ファイル管理タブ**

このアプリケーションの主要な辞書データは、ルートディレクトリに自動生成される tag\_dictionary.json ファイルに保存されます。**このリポジトリにすでに含まれている tag\_dictionary.json は、dictionary フォルダ内のJSONファイルをマージ済みのものですので、そのままお使いいただけます。** また、このファイルには、ユーザーが「追加辞書JSONをインポート (マージ)」機能などを使って手動でインポートしたカテゴリやタグ、および手動で追加・編集された全ての情報がマージされて格納されます。そのため、多くのタグやカテゴリが登録されると、ファイルサイズが大きくなることがあります。

* **既存の辞書JSONをアップロード:** 外部のJSONファイルを辞書として読み込みます。  
* **現在の辞書JSONをダウンロード:** 現在の辞書データをJSONファイルとして保存します。  
* **デモ用初期辞書を生成:** アプリケーションに付属のデモ用辞書データを生成します（初回起動時や辞書をリセットしたい場合に便利です）。  
* **追加辞書JSONをインポート (マージ):** 既存の辞書に別のJSONファイルの内容をマージします。カテゴリやタグが重複する場合は更新されます。  
* **日本語説明がないタグをエクスポート (.txt):** 日本語説明が未入力のタグをリストアップし、テキストファイルとして出力します。  
* **翻訳済みタグをインポート (.csv):** 英語タグと日本語説明のCSVファイルを読み込み、辞書内の日本語説明を一括で更新します。  
* **全タグをCSVでエクスポート (編集用):** 全てのタグをCSVファイルとして出力します。

### **🗂️ カテゴリ・辞書管理タブ**

辞書内のカテゴリとタグを詳細に管理できます。

* **左ペイン: カテゴリ階層の閲覧**  
  * カテゴリの階層構造をツリー形式で表示します。  
  * カテゴリを右クリックすると、子カテゴリの追加やカテゴリの削除ができます（子カテゴリやタグが存在する場合は削除できません）。  
* **右ペイン上部: 新しいカテゴリの追加**  
  * 新しいカテゴリ名と親カテゴリを指定して、辞書にカテゴリを追加します。  
* **右ペイン中央: タグを直接追加**  
  * 英語タグ名、日本語説明、カテゴリを指定して、辞書に新しいタグを追加または既存タグの日本語説明を更新します。  
* **右ペイン下部: カテゴリとタグの編集**  
  * 辞書に登録されている全てのタグが一覧表示されます。  
  * **「日本語説明」や「カテゴリ」のセルをダブルクリック**すると、その場で内容を編集できます。  
  * 複数のタグを選択し、一括でカテゴリを適用することも可能です。  
  * 変更後、必ず「**タグの変更を保存**」ボタンをクリックして辞書ファイルに反映させてください。  
  * 選択したタグを辞書から削除することもできます。

### **🏷️ タグ分類作業タブ**

外部から取得した未分類のタグを辞書に分類・追加する作業を支援します。

* **未分類タグの読み込み:**  
  * ファイルから未分類タグリストを読み込むか、テキストエリアに直接タグ文字列を貼り付けて読み込むことができます。  
  * 読み込まれたタグは、既存の辞書に基づいて自動分類のヒント（日本語説明やカテゴリ）が提案されます。  
* **未分類タグの分類:**  
  * 読み込まれた未分類タグが一覧表示されます。  
  * 「日本語説明」や「カテゴリ」のセルをダブルクリックして編集・分類します。  
  * 複数のタグを選択し、一括でカテゴリを適用できます。  
  * 分類が完了したら、「**テーブルで分類したタグを辞書に追加**」ボタンで辞書に反映させます。  
  * 「未分類タグリストをクリア」で現在のリストをリセットできます。

### **📝 タグセット生成タブ**

辞書から選択したタグを組み合わせて、プロンプト文字列を生成します。

* **利用可能タグ:** 辞書に登録されているタグを検索・フィルタリングして表示します。  
* **選択したタグを追加:** 利用可能タグから選択したタグを「選択済みタグ」リストに追加します。  
* **選択済みタグ:** 追加したタグが一覧表示されます。  
  * 「削除」「上に移動」「下に移動」ボタンでリストを編集できます。  
* **生成されたタグテキスト:** 選択済みタグが、指定した区切り文字で結合されて表示されます。「クリップボードにコピー」ボタンで簡単にコピーできます。

### **🎲 ランダムタグ生成タブ**

辞書内のカテゴリ構造を利用して、ランダムなタグセットを生成します。

* **ランダムタグセットを生成:** 各最終カテゴリ（子カテゴリを持たないカテゴリ）からランダムに1つずつタグを選び、プロンプトのアイデアを生成します。  
* **このランダムタグセットを選択済みに追加:** 生成されたランダムタグセットを「タグセット生成」タブの「選択済みタグ」リストに一括で追加できます。

## **🤝 貢献について**

バグ報告、機能改善の提案、コードのプルリクエストなど、皆様からの貢献を歓迎します！

## **📄 ライセンス**

このプロジェクトはMITライセンスの下で公開されています。詳細については、LICENSEファイルを参照してください。